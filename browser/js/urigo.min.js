/*! urigo 2014-05-09 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){(function(){var c,d,e,f,g,h,i,j;c=a("../bin/state").GameState,d=function(){function a(a,b){this.digits=a,this.base=b}return a.prototype.toString=function(a){var b,c;return null!=a?function(){var b,d,e,f;for(e=this.digits,f=[],b=0,d=e.length;d>b;b++)c=e[b],f.push(a[c]);return f}.call(this).join(""):""+this.base+"_"+(this.base<=10?this.digits.join(""):function(){var a,c,d,e;for(d=this.digits,e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(String.fromCharCode(b));return e}.call(this).join(""))},a.fromString=function(b,c){var d;return new a(function(){var a,e,f;for(f=[],a=0,e=b.length;e>a;a++)d=b[a],f.push(c.indexOf(d));return f}(),c.length)},a.zero=function(b,c){var d;return new a(function(){var a,b;for(b=[],d=a=1;c>=1?c>=a:a>=c;d=c>=1?++a:--a)b.push(0);return b}(),b)},a.random=function(b,c){var d;return new a(function(){var a,e;for(e=[],d=a=1;c>=1?c>=a:a>=c;d=c>=1?++a:--a)e.push(Math.floor(b*Math.random()));return e}(),b)},a.prototype.divideBy=function(a){var b,c,d,e,f;for(d=0,e=function(a,b){return[a%b,Math.floor(a/b)]},f=function(a){return a.digits.length?(d=d*a.base+a.digits.splice(0,1)[0],1+a.digits.length):0},c=function(){var b,c;for(c=[];f(this);)c.push((b=e(d,a),d=b[0],b));return c}.call(this),c=function(){var a,d,e;for(e=[],a=0,d=c.length;d>a;a++)b=c[a],e.push(b[1]);return e}();0===c[0];)c.splice(0,1);return this.digits=c,d},a.prototype.toBase=function(b){var c;return c=new a(function(){var a;for(a=[];this.digits.length;)a.push(this.divideBy(b));return a}.call(this).reverse(),b),this.digits=c.digits,this.base=c.base,this},a}(),g="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_.!~*",j=367,h=1+Math.ceil(j*Math.log(3)/Math.log(g.length)),i=function(a,b){var c;for(c=[];a.length!==b;)c.push(a.unshift(0));return c},e=function(a){var b,e,f;if(f=a[0],"0"!==f)throw new RangeError("Still in alpha, bro.");return e=d.fromString(a.slice(1),g).toBase(3),i(e.digits,j),b=new d(e.digits.splice(361),3).toBase(2),new c(e.digits.slice(0,361),b.digits[0])},f=function(a){var b,c;return c=new d(a.state.concat([0+a.whitesTurn,0,0,0,0,0]),3),b=c.toBase(g.length),i(b.digits,h-1),"0"+b.toString(g)},b.exports={decodeGameState:e,encodeGameState:f}}).call(this)},{"../bin/state":2}],2:[function(a,b){(function(){var a,c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=function(){function a(b,c){return this instanceof a?(this.x=b,void(this.y=c)):function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,arguments,function(){})}return a.prototype.equalTo=function(a){return this.x===a.x&&this.y===a.y},a.prototype.neighbors=function(){return new e([a(this.x,this.y-1),a(this.x,this.y+1),a(this.x-1,this.y),a(this.x+1,this.y)])},a}(),e=function(){function a(a){var b,c,d;for(null==a&&(a=[]),this.points=[],c=0,d=a.length;d>c;c++)b=a[c],this.add(b)}return a.prototype.contains=function(a){var b,c,d,e;for(e=this.points,c=0,d=e.length;d>c;c++)if(b=e[c],b.equalTo(a))return!0;return!1},a.prototype.add=function(b,c){var e,f,g,h,i;if(b instanceof d&&(this.contains(b)||this.points.push(b)),b instanceof a)for(h=b.points,f=0,g=h.length;g>f;f++)e=h[f],this.add(e);return typeof b==(i=typeof c)&&"number"===i&&this.add(d(b,c)),this},a.prototype.remove=function(b,c){var e,f,g,h,i;if(b instanceof d&&(this.points=this.points.filter(function(a){return!a.equalTo(b)})),b instanceof a)for(h=b.points,f=0,g=h.length;g>f;f++)e=h[f],this.remove(e);return typeof b==(i=typeof c)&&"number"===i&&this.remove(d(b,c)),this},a.prototype.at=function(a){return 0>a?this.points[this.size()+a]:this.points[a]},a.prototype.size=function(){return this.points.length},a.prototype.map=function(b){var c;return new a(function(){var a,d,e,f;for(e=this.points,f=[],a=0,d=e.length;d>a;a++)c=e[a],f.push(b(c));return f}.call(this))},a}(),a=function(a){function b(a,c,d){return this.gameState=a,null==d&&(d=this),this instanceof b?(b.__super__.constructor.call(this,[c]),void c.neighbors().map(function(e){return a.stateAt(c)!==a.stateAt(e)||d.contains(e)?void 0:(d.add(e),d.add(b(a,e,d)))})):function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(b,arguments,function(){})}return g(b,a),b.prototype.hasLiberty=function(){var a;return a=!1,this.map(function(b){return function(c){return c.neighbors().map(function(c){return b.gameState.validPoint(c)?a||(a=!b.gameState.stateAt(c)):void 0})}}(this)),a},b}(e),c=function(){function b(a,b){var c;this.state=function(){var b,d,e;if(null!=a)return a;for(e=[],c=b=1,d=361;d>=1?d>=b:b>=d;c=d>=1?++b:--b)e.push(0);return e}(),this.whitesTurn=null!=b?b:!1}return b.prototype.validPoint=function(a){return a.x>=0&&a.x<19&&a.y>=0&&a.y<19},b.prototype.pointToIndex=function(a){return a.x+19*a.y},b.prototype.indexToPoint=function(a){return d(a%19,Math.floor(a/19))},b.prototype.toString=function(){var a,b,c,d,e,f;for(c="",f=this.state,a=d=0,e=f.length;e>d;a=++d)b=f[a],c+=a%19?" ":"\n",c+=function(){switch(b){case 0:return"+";case 1:return"●";case 2:return"◌"}}();return c},b.prototype.stateAt=function(a,b){var c,f,g,h,i,j;if(a instanceof d){if(!this.validPoint(a))return;if(c=this.pointToIndex(a),null!=b)return this.state[c]=b;if(null==b)return this.state[c]}else if(a instanceof e){for(i=a.points,j=[],g=0,h=i.length;h>g;g++)f=i[g],j.push(this.stateAt(f,b));return j}},b.prototype.moveAt=function(b,c){return this.stateAt(b)?void 0:(this.whitesTurn=!this.whitesTurn,this.stateAt(b,c),b.neighbors().map(function(b){return function(d){var e,f;return f=b.stateAt(d),f&&f!==c&&(e=a(b,d),!e.hasLiberty())?b.stateAt(e,0):void 0}}(this)))},b}(),b.exports={Point:d,PointSet:e,Chain:a,GameState:c}}).call(this)},{}],3:[function(a){(function(){var b,c,d,e;c=a("../bin/codec").encodeGameState,b=a("../bin/state").GameState,d=new b,e=function(a){var b;return b=d.indexToPoint(a),d.whitesTurn?d.moveAt(b,2):d.moveAt(b,1),window.location.pathname="/"+c(d)+".svg"},document.addEventListener("DOMContentLoaded",function(){var a,b,c,f,g,h,i;for(f=document.getElementById("pieces"),d.whitesTurn="1"===f.getAttribute("urigo-whites-turn"),i=f.childNodes,b=g=0,h=i.length;h>g;b=++g)c=i[b],a=c.getAttributeNS("http://www.w3.org/1999/xlink","href"),d.state[b]=function(){switch(a){case"#empty":return 0;case"#black":return 1;case"#white":return 2}}();return f.addEventListener("click",function(a){var b,c;a.target instanceof SVGElementInstance&&(c=a.target.correspondingUseElement,b=Array.prototype.indexOf.call(c.parentNode.childNodes,c),e(b))}),f.addEventListener("touchstart",function(){})}),window.move=e,window.gameState=d}).call(this)},{"../bin/codec":1,"../bin/state":2}]},{},[3]);